<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>How Does Sugar Intake Influence Heart Rate?</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </head>
  <body>
    <header>
      <h1>How Does Sugar Intake Influence Heart Rate?</h1>
      <p>An interactive visualization of data generated by the Empatica 4 wearable device paired with a DexCom 6 continuous glucose monitor. </p>
      <p class="team-names">By Prithvi Kochhar, Stuti Verma, Tejas Mani, Willem De Haan</p>
    </header>
  
    <main>
      <section class="section" id="intro">
        <h2>Overview</h2>
        <p>
          The BIG IDEA study sought to examine if wearable device data, such as the data stored from your Apple Watch, could be used to determine whether an individual was at risk for diabetes. Upon analyzing the avaible data from the study, we wanted to determine whether daily heart rate trends can be used to differentiate between nondiabetic and prediabetic participants. Using the interactive visuzalizations below explore for yourself to see the different shapes in daily heart rate trends, and use your findings to see if you can correctly label individual participants.

        </p>
      </section>

      <!-- static d3 viz  -->
        
        <h2>Daily Heart Rate Trend for Normal versus Prediabetic Participants</h2>
        <div style="margin-bottom: 10px;">
          <label for="participant-select">Participant:</label>
          <select id="participant-select">
            <option value="all">All</option>
            <!-- Will add options dynamically -->
          </select>
        
          <label for="gender-select" style="margin-left: 20px;">Gender:</label>
          <select id="gender-select">
            <option value="all">All</option>
          </select>
        </div>
        <!-- <button id="resetZoom" style="margin-bottom: 10px;">Reset Zoom</button> -->

        <div id="heartrate-a1c"></div>
      <!-- ends here -->
  
      <section class="section" id="writeup">
        <h2>Project Details</h2>
  
        <div class="collapsible-box">
          <button class="collapsible-btn">Design Rationale ▾</button>
          <div class="collapsible-content">
            <p>
              For this visualization, we wanted to explore which data pulled from wearable devices could possibly be used to differentiate between non-diabetic and pre-diabtetic participants. We also wanted to shed light on how gender affected the daily heart rate trend, to properly account for any effect it may have when differentiating individuals. We chose to represent heart rate over time using a line chart because it's effective for showing continuous, time-based patterns and fluctuations. We used blue and orange to differentiate groups as they provide proper contrast and respect colorblind individuals. This encoding helps viewers visually trace how heart rate changes shape when analyzing different populations.

            </p>
            <p>
              We added interactive filters for gender, HbA1C category (Non-prediabetic vs Prediabetic), and individual participants so users can explore trends across different demographics or zoom into specific subjects. We also incorporated tooltips that display detailed information such as heart rate and at time, to provide context at specific points.            </p>
            <p>
              We considered using scatterplots, bar charts, and heatmaps but found them less effective at showing time-based trends and subtle fluctuations. The simplicity of the line chart, combined with interactivity, made it the most intuitive and compelling choice.

            </p>
          </div>
        </div>
  
        <div class="collapsible-box">
          <button class="collapsible-btn">Development Process ▾</button>
          <div class="collapsible-content">
            <p>
              We began by exploring the BIG IDEAs Lab dataset, which included a large number of CSV files per participant. The data was high-frequency and required
              significant cleaning and merging to narrow down to a clear trend.
              We initially developed static visualizations to understand the data structure before implementing interactivity.
            </p>
            <p>
              Our team of four split up tasks: Tejas and Willem focused on <strong>data preprocessing and merging</strong>, Stuti and Prithvi focused on <strong>D3.js static visualisation development</strong>,
              and on <strong>HTML/CSS styling and deployment</strong>. We all collaborated together and worked on the final <strong>D3.js interactive visualisation development</strong>.
            </p>
            <p>
              In total, we estimate we spent <strong> 10-12 hours </strong> on this project. The most time-consuming aspects were <strong> implementing our static visualizations in D3 and transforming them to be interactive. Additionally, settling on a compelling question to tackle with our visualization required a lot of brainstorming. </strong>
            </p>
          </div>
        </div>

        <div id="tooltip" style="position: absolute; opacity: 0; background: white; border: 1px solid #ccc; padding: 6px; font-size: 12px; pointer-events: none; border-radius: 4px;"></div>

  
      </section>
    </main>
  
    <script type = "module", src="main.js"></script>
  </body>
  </html>
  

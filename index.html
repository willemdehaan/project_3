<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>How Does Sugar Intake Influence Heart Rate?</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </head>
  <body>
    <header>
      <h1>How Does Sugar Intake Influence Heart Rate?</h1>
      <p>An interactive visualization of data generated by the Empatica 4 wearable device paired with a DexCom 6 continuous glucose monitor. </p>
      <p class="team-names">By Prithvi Kochhar, Stuti Verma, Tejas Mani, Willem De Haan</p>
    </header>
  
    <main>
      <section class="section" id="intro">
        <h2>Overview</h2>
        <p>
          This interactive visualization explores the relationship between sugar consumption and heart rate using wearable data collected from normal and prediabetic individuals. It also shows information on the type of food consumed at a particular time.
        </p>
      </section>

      <!-- static d3 viz  -->
        <h2>Heart Rate vs Sugar Intake by Hour and A1C Type</h2>
        <div id="chart-a1c"></div>

        <h2>Overall Hourly Heart Rate and Sugar Intake</h2>
        <div id="chart-overall"></div>

        <h2>Daily Heart Rate Trend for Normal versus Prediabetic Participants</h2>
        <div id="heartrate-a1c"></div>
      <!-- ends here -->
  
      <section class="section" id="writeup">
        <h2>Project Details</h2>
  
        <div class="collapsible-box">
          <button class="collapsible-btn">Design Rationale ▾</button>
          <div class="collapsible-content">
            <p>
              For this visualization, we wanted to explore how sugar intake might affect heart rate differently in people with normal versus prediabetic glucose levels. We also wanted to shed light on the types of food being consumed and how it affected sugar levels and consequently heart rate.
              We chose to represent heart rate over time using a <strong>line chart</strong> because it's effective for showing continuous, time-based patterns and fluctuations. We chose to represent sugar intake levels as a bar chart to allow for visual quantification of sugar intake.
              This encoding helps viewers visually trace how heart rate responds around eating events.
            </p>
            <p>
              We added interactive <strong>filters</strong> for <em>gender</em>, <em>HbA1C category</em> (Normal vs Prediabetic), and <em>individual participants</em>
              so users can explore trends across different demographics or zoom into specific subjects.
              We also incorporated <strong>tooltips</strong> that display detailed information such as heart rate, sugar intake, and food consumed at a particular time, to provide context at specific time points.
            </p>
            <p>
              We considered using scatterplots, bar charts, and heatmaps but found them less effective at showing time-based trends and subtle fluctuations.
              The simplicity of the line chart, combined with interactivity, made it the most intuitive and compelling choice.
            </p>
          </div>
        </div>
  
        <div class="collapsible-box">
          <button class="collapsible-btn">Development Process ▾</button>
          <div class="collapsible-content">
            <p>
              We began by exploring the BIG IDEAs Lab dataset, which included a large number of CSV files per participant. The data was high-frequency and required
              significant cleaning and merging to narrow down to a clear trend.
              We initially developed static visualizations to understand the data structure before implementing interactivity.
            </p>
            <p>
              Our team of four split up tasks: Tejas and Willem focused on <strong>data preprocessing and merging</strong>, Stuti and Prithvi focused on <strong>D3.js static visualisation development</strong>,
              and on <strong>HTML/CSS styling and deployment</strong>. We all collaborated together and worked on the final <strong>D3.js interactive visualisation development</strong>.
            </p>
            <p>
              In total, we estimate we spent <strong> X </strong> on this project. The most time-consuming aspects were <strong> X </strong>
            </p>
          </div>
        </div>
  
      </section>
    </main>
  
    <script type = "module", src="main.js"></script>
  </body>
  </html>
  
